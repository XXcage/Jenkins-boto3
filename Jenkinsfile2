pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                checkout([$class: 'GitSCM', branches: [[name: '*/main']], userRemoteConfigs: [[url: 'https://github.com/YOUR_GITHUB_USERNAME/YOUR_GITHUB_REPO.git']]])
            }
        }

        stage('Build Image') {
            steps {
                sh 'docker build -t YOUR_DOCKERHUB_USERNAME/YOUR_IMAGE_NAME:${env.BUILD_NUMBER} .'
            }
        }

        stage('Publish Image') {
            steps {
                sh 'docker login -u YOUR_DOCKERHUB_USERNAME -p YOUR_DOCKERHUB_PASSWORD'
                sh 'docker push YOUR_DOCKERHUB_USERNAME/YOUR_IMAGE_NAME:${env.BUILD_NUMBER}'
            }
        }

        stage('Lint Test') {
            steps {
                sh 'pip install pylint'
                sh 'pylint YOUR_PYTHON_SCRIPT.py'
            }
        }
    }
}
